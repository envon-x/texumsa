\ProvidesPackage{resources/physics/styles/impl-equations}
\RequirePackage{resources/physics/styles/variables}
\RequirePackage{resources/physics/styles/abs-equations}




%% definicion de presion
\def\eqPressure{\ensuremath{
  \symPressure{}{} = \frac{\symForce{}{}}{\symArea{}{}}
}}

\def\eqGasCompositionFromPressure{\ensuremath{
  \label{eq:thermo:GasCompositionFromPressure}
  \symCompGV{i} = \frac{\partialPressure}{\sum{\partialPressure}}
}}

% definicion de la composición gaseosa en base a la presión total
\def\eqGasCompositionFromTotalPressure{\ensuremath{
  \label{eq:thermo:GasCompositionFromTotalPressure}
  \symCompGV{i} = \frac{\partialPressure}{\totalPressure}
}}

\def\eqRaoultLaw{\ensuremath{
  \label{eq:thermo:RaoultLaw}
  \RaoultLaw{i}
}}

\def\eqIdealGas{\ensuremath{
  \idealGasEos{\zFactor} = 1
}}

\def\eqIdealGasEosForMass{\ensuremath{
  \symMass{i}{} = \bar{\symMolecularWeight{i}{}} \frac{\symPressure{i}{} \Vmolar}{\univConstGasEos \symTemperature{}}
  }}

% phase rule of Lewis gibbs
\def\eqPhaseRule{\ensuremath{ \freeDegree = \componentNumber + 2 - \phaseNumber}}

% Expresion de doble sumatoria del segundo coeficiente virial
\def\eqSecondVirialCoeffSum{\ensuremath{ \bCoeffVirialMixture{} = \sum_{i=1}^{\symNumOfCmpnts} \sum_{j=1}^{\symNumOfCmpnts} x_i x_j \cCoeffVirial{ij}  }}

% Desarrollo del segundo Coeficiente virial
\def\eqSecondVirialCoeffDevelop{\ensuremath{  \bCoeffVirialMixture{} = {\symCompGV{\nameG}}^2 \bCoeffVirial{\nameG \nameG} + 2 {\symCompGV{\nameG}} \symCompGV{}_{\nameV} \bCoeffVirial{\nameG \nameV} + {\symCompGV{}_\nameV}^2 \bCoeffVirial{\nameV \nameV}}}

\def\namingEqSecondVirialCoeff{
    Donde:\newline
  \bCoeffVirial{\nameG \nameG}: es el coeficiente virial para el componente puro de {\nameG} y  \newline
  \bCoeffVirial{\nameV \nameV}: para {\nameV} \newline
  \bCoeffVirial{\nameG \nameV}: es la constante de interacción que depende de la temperatura, pero no de la composición molar.
}

% Expresion de triple sumatoria del tercer coeficiente virial
\def\eqThirdVirialCoeffSum{\ensuremath{ \cCoeffVirialMixture = \sum_{i=1}^{\symNumOfCmpnts} \sum_{j=1}^{\symNumOfCmpnts} \sum_{k=1}^{\symNumOfCmpnts} x_i x_j x_k \cCoeffVirial{ijk}  }}



% Tercer coefficiente virial
\def\thirdVirialCoeffDevelop{\ensuremath{  
  \begin{split}
    \cCoeffVirialMixture &= 
    {\symCompGV{\nameG}}^3 \cCoeffVirialGGG + 3{\symCompGV{\nameG}}^2 {\symCompGV{}_{\nameV}} \cCoeffVirialGGV + 3 {\symCompGV{\nameG}} {\symCompGV{}_{\nameV}}^2 \cCoeffVirialGVV + {\symCompGV{}_\nameV}^3 \cCoeffVirialVVV
  \end{split}  
}}

\def\namingEqThirdVirialCoeff{
    Donde:\newline
  {\symCompGV{\nameV}}: denota la composición molar del componente V \newline
  {\symCompGV{\nameG}}: es la composición molar del componente G \newline
  {\cCoeffVirialGGG} y {\cCoeffVirialVVV}: son los coeficientes viriales para la sustancia pura de la mezcla y \newline
  {\cCoeffVirialGGV} y {\cCoeffVirialGVV}: son los parámetros de interacción virial. Todos los coeficientes viriales que dependen de la temperatura.
}


\def\eqVanDerWaals{\ensuremath{
  \vanDerWaals{\pressure}{\Vmolar}{\theta}
}}


%% Equación virial desarrollada pra V
\def\eqVirialForVDevelop{\ensuremath{
    \label{eq:virialB}
    \eqVirialB{\pressure{}}{\Vmolar}{\temperatureAbsolute}
}}
\def\namingEqVirialForVDevelop{{Donde, \newline 
    $\pressure$: es la presión total, \newline
    $\Vmolar$: es el volumen molar, \newline
    $\univConstGasEos$: es la constante universal de los gases, \newline
    $\temperatureAbsolute$: corresponde a la temperatura absoluta, \newline
    $B$, $C$: son el 2do y 3er coeficiente virial  que dependen de la temperatura, y para las mezclas también de su composición.
}}


\def\eqVirialForVDevelopForMixture{\ensuremath{
    \label{eq:virialBMixture}  
    \eqVirialB{\pressure}{\molarVolumeForMixture}{\temperatureAbsolute}
}}
\def\namingEqVirialForVDevelopMixture{{Donde, \newline 
    $\pressure$ : es la presión que ejerce la mezcla de gases sobre el recipiente que lo contiene, \newline
    ${\molarVolumeForMixture}$: es el volumen molar para la mezcla gaseosa, \newline
    $\univConstGasEos$: es la constante universal de los gases, \newline
    $\temperatureAbsolute$: corresponde a la temperatura absoluta, \newline
    $B$, $C$: son el 2do y 3er coeficiente virial  que dependen de la temperatura, y para las mezclas también de su composición.
}}



\def\bCoeffDependentOfT{\ensuremath{a =  \sum_{i=1}^{\symNumOfCmpnts} \bCoeffVirial{i} \temperatureAbsolute^{-1}}}
\def\cCoeffDependentOfT{\ensuremath{\cCoeffVirial{} =  \sum_{i=1}^{\symNumOfCmpnts} \cCoeffVirial{i} \temperatureAbsolute^{-1}}}

% Coeficientes para la ecuación desarrollada del 2do coeficiente virial
\def\bvv{\ensuremath{\bCoeffVirial{\nameV \nameV}}}
\def\bgv{\ensuremath{\bCoeffVirial{\nameG \nameV}}}
\def\bgg{\ensuremath{\bCoeffVirial{\nameG \nameG}}}

% Coeficientes para la ecuación desarrollada del 3er coeficiente virial
\def\cggv{\ensuremath{\cCoeffVirialGGV}}
\def\cgvv{\ensuremath{\cCoeffVirialGVV}}
\def\cvvv{\ensuremath{\cCoeffVirialVVV}}
\def\cggg{\ensuremath{\cCoeffVirialGGG}}

\def\eqVirialFactorCorrection{\ensuremath{
  \begin{split}
    \ln f &= \left[ \frac{(1 + \isothermalCompresibility {\pressureVapor})({\pressureTotal} - {\pressureVapor}) - \frac{1}{2} \isothermalCompresibility ({\pressureTotal}^2 - {\pressureVapor}^2)}{\univConstGasEos \temperatureAbsolute} \right] \molarVolumeSaturate \\
          &+ \ln (1 - \henryLaw {\symCompGsat} {\pressureTotal}) - \frac{2 {\symCompGsat}^3 (2 - 3 {\symCompGsat}) {\pressureTotal}^2}{(\univConstGasEos \temperatureAbsolute)^2} \bgg \bgv \\
          &+ \frac{{\symCompGsat}^2}{\univConstGasEos \temperatureAbsolute} \bgg - \frac{2 {\symCompGsat}^2 {\pressureTotal}}{\univConstGasEos \temperatureAbsolute} \bgv - \left[ \frac{ {\pressureTotal} - {\pressureVapor}}{\univConstGasEos \temperatureAbsolute} - \frac{{\symCompGsat}^2 {\pressureTotal}}{\univConstGasEos \temperatureAbsolute} \right] \bgg \\
          &+ \frac{3 {\symCompGsat}^2}{2 (\univConstGasEos \temperatureAbsolute)^2} (1 + 2 {\symCompGsat}) {\pressureTotal}^2 \cggv - \frac{3 {\symCompGsat}^2 (1 - {\symCompGsat}) {\pressureTotal}^2}{(\univConstGasEos \temperatureAbsolute)^2} \cgvv \\
          &- \left[ \frac{(1 + 2 {\symCompGsat})(1 - {\symCompGsat})^2 {\pressureTotal}^2 - {\pressureVapor}^2}{2 (\univConstGasEos \temperatureAbsolute)^2} \right] \cvvv - \frac{3 {\symCompGsat}^4 {\pressureTotal}^2}{2 (\univConstGasEos \temperatureAbsolute)^2} \bgg^2 \\
          &- \frac{{\symCompGsat}^2 (1 - 3 {\symCompGsat})(1 - {\symCompGsat}) {\pressureTotal}^2}{(\univConstGasEos \temperatureAbsolute)^2} \bgg \bvv \\
          &+ \frac{6 {\symCompGsat}^2 (1 - {\symCompGsat})^2 {\pressureTotal}^2}{(\univConstGasEos \temperatureAbsolute)^2} \bvv \bgv \\
          &- \frac{2 {\symCompGsat}^2 (1 - {\symCompGsat})(1 - 3 {\symCompGsat}) {\pressureTotal}^2}{(\univConstGasEos \temperatureAbsolute)^2} \bgv^2 + \frac{{\symCompGsat}^3 {\pressureTotal}^2}{(\univConstGasEos \temperatureAbsolute)^2} \cggg \\
          &- \left[ \frac{{\pressureVapor}^2 - (1 + 3 {\symCompGsat})(1 - {\symCompGsat})^3 {\pressureTotal}^2}{2 (\univConstGasEos \temperatureAbsolute)^2} \right] \bvv^2
  \end{split}
}}
\def\namingEqVirialFactorCorrection{
    Donde:\newline
  {\molarVolumeSaturate}: Volumen molar del componente V condensado\newline
  {\isothermalCompresibility}: denota la compresibilidad isotérmica\newline
  {\henryLaw}: es la constante de la ley de Henrry \newline
  {{\pressureTotal}}: es la presión total\newline
  {\univConstGasEos}: constante universal de los gases\newline
  {\temperatureAbsolute}: es la termperatura absoluta\newline
  {\symCompGV{\nameV}}: denota la composición molar del componente V \newline
  {\symCompGV{\nameG}}: es la composición molar del componente G \newline
  {\cCoeffVirialGGG} y {\cCoeffVirialVVV}: son los coeficientes viriales para la sustancia pura de la mezcla y \newline
  {\cCoeffVirialGGV} y {\cCoeffVirialGVV}: son los parámetros de interacción virial. Todos los coeficientes viriales que dependen de la temperatura.
}


% Entalpía para la mezcla
\def\eqEnthalpyForMixture{\ensuremath{
  \begin{split}
    \varRealEnthalpyForMixture &= \compositionG \left(\hat{h}_{oG} + \int_{\limitInfTemperature}^{\limitSupTemperature} \specificHeatG \, \mathrm{d \temperature} \right) \\
        &+ \compositionV \left(\hat{h}_{oV} + \int_{\limitInfTemperature}^{\limitSupTemperature} \specificHeatV \, \mathrm{d\temperature} \right) \\
        &+ \univConstGasEos \temperature \left[ \left( \temperature \frac{d \bCoeffVirialMixture}{d \temperature} - \bCoeffVirialMixture \right) \frac{1}{\molarVolumeForMixture} + \left( \frac{ \temperature}{2} \frac{d \cCoeffVirialMixture}{d \temperature} - \cCoeffVirialMixture \right) \frac{1}{{\molarVolumeForMixture}^2} \right]
  \end{split}
}}
\def\namingEqEnthalpyForMixture{
    Donde:\newline
  {\specificHeatV}: Indica el calor específico para el componente vapor \newline
  {\specificHeatG}: denota el calor específico para el componente gas \newline
  {$\hat{h}_{oV}$}: \newline
  {$\hat{h}_{oG}$}: \newline
  {\univConstGasEos}: constante universal de los gases \newline
  {\temperature}: representa a la termperatura \newline
  {\compositionV}: denota la composición molar del componente \symVapor \newline
  {\compositionG}: es la composición molar del componente \symGas \newline
  {\bCoeffVirialMixture}: representa al segundo coeficiente virial para la mezcla \newline
  {\cCoeffVirialMixture}: es el representación del tercer coeficiente virial de la mezcla \newline
  {\molarVolumeForMixture}: representa al volumen de la mezcla.
}

\def\eqEntropyForMixtureDiscrete{\ensuremath{
  \begin{split}
    \overline{s}_m = X_a \left( \sum_{i=0}^{4} M_i \, T^i + M_5 \, \ln(T) + \overline{s}'_a \right) 
    + X_w \left( \sum_{i=0}^{5} N_i \, T^i + N_6 \, \ln(T) + \overline{s}'_w \right) \\
    - \mathbb{R} \ln\left(\frac{p}{101325}\right) 
    + X_a \, \mathbb{R} \ln\left(\frac{p \, \overline{v}_m}{X_a \, \mathbb{R}_0 \, T}\right) 
    + X_w \, \mathbb{R} \ln\left(\frac{p \, \overline{v}_m}{X_w \, \mathbb{R}_0 \, T}\right) \\
    - \mathbb{R} \left[ \frac{B_m + T \frac{dB_m}{dT}}{\overline{v}_m} 
    + \frac{C_m + T \frac{dC_m}{dT}}{\overline{v}_m^2} + 0.5 \right]
  \end{split}
}}




%%%% ECUACIONES PSICROMËTRICAS
\def\eqAbsoluteHumidityDevelop{\ensuremath{
  \label{eq:AbsoluteHumidityDevelop}
  \absoluteHumidity = \frac{\relativeHumidity \pressureSat}{\symPressure{\symTotal}{} - \relativeHumidity \pressureSat} \frac{\molecularWeightV}{\molecularWeightG}
}}
\def\namingEqAbsoluteHumidityDevelop{
    Donde:\newline
  {\relativeHumidity}: Representa a la humedad relativa \newline
  {\pressureSat}: Presión de vapor saturado a la temperatura de operación \newline
  {\molecularWeightV{} y \molecularWeightG{}}: Son el peso molecular de los componentes vapor y gas, respectivamente.
}

%% Rodriguez page 2 - Humedad- Para agua y aire
\def\eqWaterAirSaturatedPressure{\ensuremath{
  \ln \pressureSat = 19.016 - \frac{4064.95}{\temperature + 236.25}
}}

\def\eqWaterAirSaturatedPressure{\ensuremath{
  \ln \frac{\pressureSat}{611.657} = 22.509 \left(1 -  \frac{273.16}{\temperature} \right)
}}
